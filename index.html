<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/topojson.v0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-geo-projection/0.2.9/d3.geo.projection.min.js"></script>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js'></script>

    <style type="text/css">
        .states {
            fill: #aaa;
            stroke: #fff;
            stroke-width: 0.75px;
        }
        
        #container {
            margin: 2%;
            padding: 20px;
            border: 2px solid #d0d0d0;
            border-radius: 5px;
        }
    </style>
</head>

<body onload="sizeChange()">

    <div id="container"></div>

    <script type="text/javascript">
        d3.select(window)
            .on("resize", sizeChange);

        var projection = d3.geo.winkel3()
            .scale(182);

        var path = d3.geo.path()
            .projection(projection);

        var svg = d3.select("#container")
            .append("svg")
            .attr("width", "100%")
            .append("g");

        d3.json("world.json", function (error, world) {
            svg.selectAll(".countries")
                .data(topojson.object(world, world.objects.countries).geometries)
                .enter().append("path")
                .attr("class", "countries")
                .attr("d", path);
        });

        function sizeChange() {
            d3.select("g").attr("transform", "scale(" + $("#container").width() / 900 + ")");
            $("svg").height($("#container").width() * 0.618);
        }
    </script>
</body>

</html>